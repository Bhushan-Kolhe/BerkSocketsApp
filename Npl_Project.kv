#: import main a
#: import ListAdapter kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton
#:import hex kivy.utils.get_color_from_hex

<Npl_ProjectRoot>:
    orientation: "vertical"
    
    ActionBar:
        ActionView:
            ActionPrevious:
                title: ""
                with_previous: False
            ActionOverflow:
                ActionButton:
                    text: "Settings"
                    on_press: app.open_settings()
    
    ScreenManager:
        id: kivy_screen_manager
        Npl_Project:
            id: start_screen 
            name: "Npl_Project"

<Npl_Project>:
    orientation: "vertical"
    serverIp: server_ip
    portNo: port_no
    cleintListView: client_listview
    padding: 10
    spacing: 10

    BoxLayout:
        size_hint_y: None
        height: "40dp"
        
        Label:
            text: "Server ip"
        TextInput:
            font_size: self.height * 0.5
            id: server_ip

        Label:
            text: "Port"
        TextInput:
            font_size: self.height * 0.5
            id: port_no
    
    BoxLayout:
        size_hint_y: None
        height: "40dp"
        padding: 3
        spacing: 10
        
        Button:
            background_normal: ''
            background_color: hex('#B3001B')
            text: "Add Ip"
            size_hint_x: 15
            on_press: root.add_server_ip()

        Button:
            background_normal: ''
            background_color: hex('#FFBA08')
            text: "Create Server"
            size_hint_x: 15
            on_press: root.create_server()

            
    ListView:
        id: client_listview
        adapter:
            ListAdapter(data=[], cls=main.ClientsListItemButton)